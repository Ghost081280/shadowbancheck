<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üîß CSS Debug - Admin Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Load the same stylesheets as admin-dashboard.html -->
    <link rel="stylesheet" href="css/main.css" id="css-main">
    <link rel="stylesheet" href="css/admin-dashboard.css" id="css-admin">
    <style>
        /* Debug styles - these override everything */
        .debug-panel {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: #1a1a2e;
            color: #00ff00;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            padding: 20px;
            z-index: 99999;
            max-height: 60vh;
            overflow-y: auto;
            border-bottom: 3px solid #00ff00;
        }
        .debug-panel h1 {
            color: #00ff00;
            font-size: 18px;
            margin: 0 0 15px 0;
        }
        .debug-section {
            background: #0d0d1a;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            border: 1px solid #333;
        }
        .debug-section h2 {
            color: #ffcc00;
            font-size: 14px;
            margin: 0 0 10px 0;
            text-transform: uppercase;
        }
        .debug-row {
            display: flex;
            justify-content: space-between;
            padding: 5px 0;
            border-bottom: 1px solid #222;
        }
        .debug-row:last-child {
            border-bottom: none;
        }
        .debug-label {
            color: #888;
        }
        .debug-value {
            color: #00ff00;
            font-weight: bold;
        }
        .debug-value.error {
            color: #ff4444;
        }
        .debug-value.warning {
            color: #ffcc00;
        }
        .debug-value.success {
            color: #00ff00;
        }
        .test-area {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 2px dashed #333;
        }
        .test-area h2 {
            color: #00ccff;
        }
        
        /* Test elements */
        .test-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin: 10px 0;
        }
        .test-box {
            background: #6366f1;
            padding: 20px;
            text-align: center;
            border-radius: 8px;
            color: white;
        }
        .test-flex {
            display: flex;
            gap: 10px;
            margin: 10px 0;
        }
        .test-flex-item {
            background: #a855f7;
            padding: 15px 25px;
            border-radius: 8px;
            color: white;
        }
        
        /* Content area below debug panel */
        .content-area {
            margin-top: 20px;
            padding: 20px;
            background: #0a0a0f;
        }
    </style>
</head>
<body>
    <div class="debug-panel" id="debug-panel">
        <h1>üîß CSS DEBUG PANEL - Admin Dashboard</h1>
        
        <!-- Viewport Info -->
        <div class="debug-section">
            <h2>üìê Viewport & Screen</h2>
            <div class="debug-row">
                <span class="debug-label">Window Width:</span>
                <span class="debug-value" id="window-width">-</span>
            </div>
            <div class="debug-row">
                <span class="debug-label">Window Height:</span>
                <span class="debug-value" id="window-height">-</span>
            </div>
            <div class="debug-row">
                <span class="debug-label">Device Pixel Ratio:</span>
                <span class="debug-value" id="pixel-ratio">-</span>
            </div>
            <div class="debug-row">
                <span class="debug-label">Breakpoint Active:</span>
                <span class="debug-value" id="breakpoint">-</span>
            </div>
        </div>
        
        <!-- CSS Files Status -->
        <div class="debug-section">
            <h2>üìÑ CSS File Loading Status</h2>
            <div class="debug-row">
                <span class="debug-label">main.css:</span>
                <span class="debug-value" id="css-main-status">Checking...</span>
            </div>
            <div class="debug-row">
                <span class="debug-label">admin-dashboard.css:</span>
                <span class="debug-value" id="css-admin-status">Checking...</span>
            </div>
            <div class="debug-row">
                <span class="debug-label">shadow-ai.css:</span>
                <span class="debug-value" id="css-shadow-status">Not loaded (not needed for this test)</span>
            </div>
        </div>
        
        <!-- CSS Variables -->
        <div class="debug-section">
            <h2>üé® CSS Variables (from :root)</h2>
            <div class="debug-row">
                <span class="debug-label">--bg:</span>
                <span class="debug-value" id="var-bg">-</span>
            </div>
            <div class="debug-row">
                <span class="debug-label">--card:</span>
                <span class="debug-value" id="var-card">-</span>
            </div>
            <div class="debug-row">
                <span class="debug-label">--primary:</span>
                <span class="debug-value" id="var-primary">-</span>
            </div>
            <div class="debug-row">
                <span class="debug-label">--border:</span>
                <span class="debug-value" id="var-border">-</span>
            </div>
            <div class="debug-row">
                <span class="debug-label">--text:</span>
                <span class="debug-value" id="var-text">-</span>
            </div>
        </div>
        
        <!-- Layout Tests -->
        <div class="debug-section">
            <h2>üìä Layout Computed Styles</h2>
            <div class="debug-row">
                <span class="debug-label">.admin-layout display:</span>
                <span class="debug-value" id="layout-display">-</span>
            </div>
            <div class="debug-row">
                <span class="debug-label">.admin-layout grid-template-columns:</span>
                <span class="debug-value" id="layout-grid">-</span>
            </div>
            <div class="debug-row">
                <span class="debug-label">.quick-actions-row display:</span>
                <span class="debug-value" id="quick-display">-</span>
            </div>
            <div class="debug-row">
                <span class="debug-label">.quick-actions-row flex-direction:</span>
                <span class="debug-value" id="quick-direction">-</span>
            </div>
            <div class="debug-row">
                <span class="debug-label">.admin-grid display:</span>
                <span class="debug-value" id="grid-display">-</span>
            </div>
            <div class="debug-row">
                <span class="debug-label">.admin-grid.chats-layout columns:</span>
                <span class="debug-value" id="chats-grid">-</span>
            </div>
        </div>
        
        <!-- Browser Info -->
        <div class="debug-section">
            <h2>üåê Browser Info</h2>
            <div class="debug-row">
                <span class="debug-label">User Agent:</span>
                <span class="debug-value" id="user-agent" style="font-size: 11px; word-break: break-all;">-</span>
            </div>
        </div>
        
        <!-- Visual Tests -->
        <div class="test-area">
            <h2>üß™ Visual Layout Tests</h2>
            <p style="color: #888; margin: 10px 0;">If CSS grid/flex is working, you should see 4 purple boxes in a row, then 4 smaller boxes in a row:</p>
            
            <p style="color: #ffcc00; margin-top: 15px;">Test 1: CSS Grid (4 columns)</p>
            <div class="test-grid" id="test-grid">
                <div class="test-box">1</div>
                <div class="test-box">2</div>
                <div class="test-box">3</div>
                <div class="test-box">4</div>
            </div>
            
            <p style="color: #ffcc00; margin-top: 15px;">Test 2: Flexbox (horizontal row)</p>
            <div class="test-flex" id="test-flex">
                <div class="test-flex-item">A</div>
                <div class="test-flex-item">B</div>
                <div class="test-flex-item">C</div>
                <div class="test-flex-item">D</div>
            </div>
        </div>
    </div>
    
    <!-- Test the actual admin dashboard elements -->
    <div class="content-area">
        <h2 style="color: #00ccff; margin-bottom: 20px;">üìã Live Admin Dashboard Elements Test:</h2>
        
        <!-- Admin Layout Test -->
        <div class="admin-layout" id="test-admin-layout" style="min-height: 200px; border: 2px dashed #6366f1; margin-bottom: 20px;">
            <aside class="admin-sidebar" id="test-sidebar" style="border: 2px solid #00ff00;">
                <span style="color: white; padding: 10px; display: block;">SIDEBAR (should be 280px wide, on left)</span>
            </aside>
            <main class="admin-main" id="test-main" style="border: 2px solid #ffcc00;">
                <span style="color: white; padding: 10px; display: block;">MAIN CONTENT (should fill remaining space)</span>
                
                <!-- Quick Actions Test -->
                <div class="quick-actions-row" id="test-quick-actions" style="margin: 20px; border: 2px solid #ff4444;">
                    <button class="quick-action">Button 1</button>
                    <button class="quick-action">Button 2</button>
                    <button class="quick-action">Button 3</button>
                    <button class="quick-action">Button 4</button>
                </div>
                
                <!-- Admin Grid Test -->
                <div class="admin-grid" id="test-admin-grid" style="margin: 20px; border: 2px solid #00ccff;">
                    <div class="admin-card" style="min-height: 100px;">Card 1</div>
                    <div class="admin-card" style="min-height: 100px;">Card 2</div>
                </div>
                
                <!-- Chats Layout Test -->
                <div class="admin-grid chats-layout" id="test-chats-layout" style="margin: 20px; border: 2px solid #a855f7;">
                    <div class="admin-card" style="min-height: 100px;">Chat List (350px)</div>
                    <div class="admin-card" style="min-height: 100px;">Chat Window (1fr)</div>
                </div>
            </main>
        </div>
    </div>
    
    <script>
        // Run diagnostics
        function runDiagnostics() {
            const root = document.documentElement;
            const styles = getComputedStyle(root);
            
            // Viewport
            document.getElementById('window-width').textContent = window.innerWidth + 'px';
            document.getElementById('window-height').textContent = window.innerHeight + 'px';
            document.getElementById('pixel-ratio').textContent = window.devicePixelRatio;
            
            // Determine breakpoint
            const width = window.innerWidth;
            let breakpoint = 'Desktop (>1200px)';
            if (width <= 768) breakpoint = 'Mobile (‚â§768px) - VERTICAL STACKING EXPECTED';
            else if (width <= 1024) breakpoint = 'Tablet (769-1024px)';
            else if (width <= 1200) breakpoint = 'Small Desktop (1025-1200px) - SINGLE COLUMN EXPECTED';
            
            const bpEl = document.getElementById('breakpoint');
            bpEl.textContent = breakpoint;
            if (width <= 1200) bpEl.classList.add('warning');
            else bpEl.classList.add('success');
            
            // CSS Variables
            document.getElementById('var-bg').textContent = styles.getPropertyValue('--bg') || 'NOT SET';
            document.getElementById('var-card').textContent = styles.getPropertyValue('--card') || 'NOT SET';
            document.getElementById('var-primary').textContent = styles.getPropertyValue('--primary') || 'NOT SET';
            document.getElementById('var-border').textContent = styles.getPropertyValue('--border') || 'NOT SET';
            document.getElementById('var-text').textContent = styles.getPropertyValue('--text') || 'NOT SET';
            
            // Check if CSS files loaded
            checkCSSLoaded();
            
            // Layout computed styles
            setTimeout(() => {
                const adminLayout = document.getElementById('test-admin-layout');
                const quickActions = document.getElementById('test-quick-actions');
                const adminGrid = document.getElementById('test-admin-grid');
                const chatsLayout = document.getElementById('test-chats-layout');
                
                if (adminLayout) {
                    const layoutStyles = getComputedStyle(adminLayout);
                    document.getElementById('layout-display').textContent = layoutStyles.display;
                    document.getElementById('layout-grid').textContent = layoutStyles.gridTemplateColumns || 'N/A';
                }
                
                if (quickActions) {
                    const quickStyles = getComputedStyle(quickActions);
                    document.getElementById('quick-display').textContent = quickStyles.display;
                    document.getElementById('quick-direction').textContent = quickStyles.flexDirection || 'N/A';
                }
                
                if (adminGrid) {
                    const gridStyles = getComputedStyle(adminGrid);
                    document.getElementById('grid-display').textContent = gridStyles.display;
                }
                
                if (chatsLayout) {
                    const chatsStyles = getComputedStyle(chatsLayout);
                    document.getElementById('chats-grid').textContent = chatsStyles.gridTemplateColumns || 'N/A';
                }
            }, 500);
            
            // Browser info
            document.getElementById('user-agent').textContent = navigator.userAgent;
        }
        
        function checkCSSLoaded() {
            // Check main.css
            fetch('css/main.css')
                .then(response => {
                    const el = document.getElementById('css-main-status');
                    if (response.ok) {
                        el.textContent = '‚úÖ LOADED (Status: ' + response.status + ')';
                        el.classList.add('success');
                    } else {
                        el.textContent = '‚ùå FAILED (Status: ' + response.status + ')';
                        el.classList.add('error');
                    }
                })
                .catch(err => {
                    const el = document.getElementById('css-main-status');
                    el.textContent = '‚ùå ERROR: ' + err.message;
                    el.classList.add('error');
                });
            
            // Check admin-dashboard.css
            fetch('css/admin-dashboard.css')
                .then(response => {
                    const el = document.getElementById('css-admin-status');
                    if (response.ok) {
                        el.textContent = '‚úÖ LOADED (Status: ' + response.status + ')';
                        el.classList.add('success');
                    } else {
                        el.textContent = '‚ùå FAILED (Status: ' + response.status + ')';
                        el.classList.add('error');
                    }
                })
                .catch(err => {
                    const el = document.getElementById('css-admin-status');
                    el.textContent = '‚ùå ERROR: ' + err.message;
                    el.classList.add('error');
                });
        }
        
        // Run on load
        window.addEventListener('load', runDiagnostics);
        
        // Update on resize
        window.addEventListener('resize', () => {
            document.getElementById('window-width').textContent = window.innerWidth + 'px';
            document.getElementById('window-height').textContent = window.innerHeight + 'px';
            
            const width = window.innerWidth;
            let breakpoint = 'Desktop (>1200px)';
            if (width <= 768) breakpoint = 'Mobile (‚â§768px) - VERTICAL STACKING EXPECTED';
            else if (width <= 1024) breakpoint = 'Tablet (769-1024px)';
            else if (width <= 1200) breakpoint = 'Small Desktop (1025-1200px) - SINGLE COLUMN EXPECTED';
            document.getElementById('breakpoint').textContent = breakpoint;
        });
    </script>
</body>
</html>
