<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ShadowBanCheck.io - Repo Scanner v2</title>
    <style>
        :root {
            --primary: #ff6b35;
            --secondary: #1a1a2e;
            --accent: #16213e;
            --success: #00d26a;
            --warning: #ffc107;
            --danger: #ff4757;
            --text: #e8e8e8;
            --muted: #6c757d;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, var(--secondary), var(--accent));
            min-height: 100vh;
            color: var(--text);
            padding: 20px;
        }
        .container { max-width: 1400px; margin: 0 auto; }
        header { text-align: center; padding: 30px 0; border-bottom: 2px solid var(--primary); margin-bottom: 30px; }
        h1 { font-size: 2.5rem; background: linear-gradient(90deg, var(--primary), #ff8c42); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .subtitle { color: var(--muted); margin-top: 10px; }
        .upload-section {
            background: rgba(255,255,255,0.05);
            border: 2px dashed var(--primary);
            border-radius: 15px;
            padding: 40px;
            text-align: center;
            margin-bottom: 30px;
            transition: all 0.3s;
        }
        .upload-section:hover { background: rgba(255,107,53,0.1); border-style: solid; }
        .upload-section input[type="file"] { display: none; }
        .btn {
            background: linear-gradient(135deg, var(--primary), #ff8c42);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.1rem;
            border-radius: 30px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            margin: 5px;
        }
        .btn:hover { transform: translateY(-2px); box-shadow: 0 10px 30px rgba(255,107,53,0.3); }
        .btn-secondary { background: linear-gradient(135deg, #6c757d, #495057); }
        .btn-success { background: linear-gradient(135deg, var(--success), #00b359); }
        .btn-small { padding: 10px 20px; font-size: 0.9rem; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 20px; }
        .card { background: rgba(255,255,255,0.05); border-radius: 15px; padding: 25px; border: 1px solid rgba(255,255,255,0.1); }
        .card h2 { color: var(--primary); margin-bottom: 20px; }
        .file-tree {
            font-family: 'Consolas', monospace;
            font-size: 0.9rem;
            background: rgba(0,0,0,0.3);
            padding: 20px;
            border-radius: 10px;
            max-height: 400px;
            overflow-y: auto;
            white-space: pre;
        }
        .file-tree .folder { color: #ffc107; }
        .file-tree .file { color: var(--text); }
        .file-tree .file.js { color: #f0db4f; }
        .file-tree .file.html { color: #e34c26; }
        .file-tree .file.css { color: #264de4; }
        .file-tree .file.json { color: #00d26a; }
        .status-list { list-style: none; max-height: 400px; overflow-y: auto; }
        .status-list li {
            padding: 12px 15px;
            margin-bottom: 10px;
            background: rgba(0,0,0,0.2);
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-family: 'Consolas', monospace;
            font-size: 0.85rem;
        }
        .status-badge { padding: 5px 12px; border-radius: 20px; font-size: 0.75rem; font-weight: bold; }
        .status-badge.exists { background: rgba(0,210,106,0.2); color: var(--success); }
        .status-badge.missing { background: rgba(255,71,87,0.2); color: var(--danger); }
        .status-badge.update { background: rgba(255,193,7,0.2); color: var(--warning); }
        .summary-stats { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin-bottom: 30px; }
        .stat-card { background: rgba(255,255,255,0.05); border-radius: 10px; padding: 20px; text-align: center; }
        .stat-card .number { font-size: 2.5rem; font-weight: bold; color: var(--primary); }
        .stat-card .label { color: var(--muted); margin-top: 5px; }
        .stat-card.success .number { color: var(--success); }
        .stat-card.warning .number { color: var(--warning); }
        .stat-card.danger .number { color: var(--danger); }
        .analysis-output { display: none; }
        .analysis-output.active { display: block; }
        .scan-info {
            background: rgba(0,210,106,0.1);
            border: 1px solid var(--success);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
        }
        .scan-info .project-name { font-weight: bold; color: var(--success); }
        .requirement-section { margin-top: 30px; }
        .requirement-section h3 { color: var(--primary); margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px solid rgba(255,255,255,0.1); }
        .export-modal {
            display: none;
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        .export-modal.active { display: flex; }
        .export-modal-content {
            background: var(--secondary);
            border-radius: 15px;
            padding: 30px;
            max-width: 900px;
            width: 90%;
            max-height: 85vh;
            overflow-y: auto;
            border: 2px solid var(--primary);
        }
        .export-modal-content h2 { color: var(--primary); margin-bottom: 20px; }
        .export-textarea {
            width: 100%;
            height: 400px;
            background: #0d1117;
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 10px;
            padding: 15px;
            color: var(--text);
            font-family: 'Consolas', monospace;
            font-size: 0.9rem;
            resize: vertical;
        }
        .modal-buttons { display: flex; gap: 10px; margin-top: 20px; justify-content: flex-end; flex-wrap: wrap; }
        .checklist { list-style: none; }
        .checklist li { padding: 10px 15px; margin-bottom: 8px; background: rgba(0,0,0,0.2); border-radius: 8px; }
        .checklist li::before { content: 'â˜'; margin-right: 10px; color: var(--muted); }
        @media (max-width: 768px) {
            .grid { grid-template-columns: 1fr; }
            .summary-stats { grid-template-columns: repeat(2, 1fr); }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ” ShadowBanCheck.io - Repo Scanner v2</h1>
            <p class="subtitle">Analyze your project and identify files needed for the Master Engine update</p>
        </header>
        
        <div class="upload-section" id="dropZone">
            <p style="margin-bottom: 20px;">ğŸ“ Drop your project folder here or click to browse</p>
            <input type="file" id="folderInput" webkitdirectory directory multiple>
            <label for="folderInput" class="btn">Select Project Folder</label>
        </div>
        
        <div class="analysis-output" id="analysisOutput">
            <div class="scan-info">
                <div>
                    <span>ğŸ“‚ Project: </span><span class="project-name" id="projectName">-</span>
                    <span style="margin-left: 15px; color: var(--muted);">Scanned: <span id="scanTime">-</span></span>
                </div>
                <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                    <button class="btn btn-small btn-secondary" onclick="rescanProject()">ğŸ”„ Refresh</button>
                    <button class="btn btn-small btn-success" onclick="showExportModal()">ğŸ“¤ Export Needed Files</button>
                </div>
            </div>
            
            <div class="summary-stats">
                <div class="stat-card success"><div class="number" id="foundFiles">0</div><div class="label">Found</div></div>
                <div class="stat-card"><div class="number" id="totalFiles">0</div><div class="label">Total Files</div></div>
                <div class="stat-card danger"><div class="number" id="missingFiles">0</div><div class="label">Missing</div></div>
                <div class="stat-card warning"><div class="number" id="updateFiles">0</div><div class="label">Need Update</div></div>
            </div>
            
            <div class="grid">
                <div class="card">
                    <h2>ğŸ“‚ Your Project Structure</h2>
                    <div class="file-tree" id="fileTree"></div>
                </div>
                <div class="card">
                    <h2>ğŸ“‹ Required Files Status</h2>
                    <ul class="status-list" id="statusList"></ul>
                </div>
            </div>
            
            <div class="requirement-section" id="missingSection" style="display: none;">
                <h3>ğŸ”´ Missing Files (Need to Create)</h3>
                <div id="missingFilesList"></div>
            </div>
            
            <div class="requirement-section" id="updateSection" style="display: none;">
                <h3>ğŸŸ¡ Files Needing Update</h3>
                <div id="updateFilesList"></div>
            </div>
        </div>
        
        <div class="analysis-output active" id="defaultAnalysis">
            <div class="card" style="margin-bottom: 20px;">
                <h2>ğŸ“‹ Required File Structure</h2>
                <div class="file-tree"><span class="folder">shadowbancheck.io/</span>
â”œâ”€â”€ <span class="file html">index.html</span>
â”œâ”€â”€ <span class="file html">results.html</span>
â”œâ”€â”€ <span class="folder">css/</span>
â”‚   â””â”€â”€ <span class="file css">styles.css</span>
â”œâ”€â”€ <span class="folder">js/</span>
â”‚   â”œâ”€â”€ <span class="file js">main.js</span>
â”‚   â”œâ”€â”€ <span class="file js">demo-data.js</span>        ğŸ”´ REWRITE
â”‚   â”œâ”€â”€ <span class="file js">platforms.js</span>        ğŸŸ¡ UPDATE
â”‚   â”œâ”€â”€ <span class="file js">results.js</span>          ğŸŸ¡ UPDATE
â”‚   â”œâ”€â”€ <span class="folder">agents/</span>
â”‚   â”‚   â”œâ”€â”€ <span class="file js">api-agent.js</span>    ğŸŸ¢ CREATE
â”‚   â”‚   â”œâ”€â”€ <span class="file js">web-agent.js</span>    ğŸŸ¢ CREATE
â”‚   â”‚   â”œâ”€â”€ <span class="file js">historical-agent.js</span>
â”‚   â”‚   â”œâ”€â”€ <span class="file js">detection-agent.js</span>
â”‚   â”‚   â””â”€â”€ <span class="file js">predictive-agent.js</span>
â”‚   â””â”€â”€ <span class="folder">utils/</span>
â”‚       â”œâ”€â”€ <span class="file js">confidence.js</span>
â”‚       â”œâ”€â”€ <span class="file js">scoring.js</span>
â”‚       â””â”€â”€ <span class="file js">database.js</span>
â””â”€â”€ <span class="folder">data/</span>
    â”œâ”€â”€ <span class="file json">banned-hashtags.json</span>
    â”œâ”€â”€ <span class="file json">throttled-domains.json</span>
    â””â”€â”€ <span class="file json">automod-triggers.json</span></div>
            </div>
            
            <div class="card" style="margin-bottom: 20px;">
                <h2>ğŸ“Š Platform Module Counts</h2>
                <table style="width: 100%; border-collapse: collapse; margin-top: 15px;">
                    <thead>
                        <tr style="border-bottom: 2px solid var(--primary);">
                            <th style="text-align: left; padding: 10px;">Platform</th>
                            <th style="text-align: center;">Total</th>
                            <th style="text-align: center;">#ï¸âƒ£</th>
                            <th style="text-align: center;">ğŸ’²</th>
                            <th style="text-align: center;">ğŸ”—</th>
                            <th style="text-align: center;">ğŸ“</th>
                            <th style="text-align: center;">@</th>
                            <th style="text-align: center;">ğŸ˜€</th>
                        </tr>
                    </thead>
                    <tbody id="platformTable"></tbody>
                </table>
            </div>
            
            <div class="card">
                <h2>âœ… Success Criteria</h2>
                <ul class="checklist">
                    <li>Every agent returns full check structure</li>
                    <li>Every signal type has 3-Point Intelligence breakdown</li>
                    <li>Confidence levels: High â‰¥70%, Medium 40-69%, Low &lt;40%</li>
                    <li>Platform-specific module counts accurate</li>
                    <li>Reddit/YouTube exclude hashtag/cashtag modules</li>
                    <li>LinkedIn has 3 hashtag modules (not 4)</li>
                    <li>Free/Pro/Pro+ feature gates work correctly</li>
                </ul>
            </div>
        </div>
    </div>
    
    <div class="export-modal" id="exportModal">
        <div class="export-modal-content">
            <h2>ğŸ“¤ Export for Next Chat</h2>
            <p style="margin-bottom: 15px; color: var(--muted);">Copy this to share with Claude:</p>
            <textarea class="export-textarea" id="exportTextarea" readonly></textarea>
            <div class="modal-buttons">
                <button class="btn btn-small btn-secondary" onclick="closeExportModal()">Close</button>
                <button class="btn btn-small" onclick="copyToClipboard(this)">ğŸ“‹ Copy</button>
                <button class="btn btn-small btn-success" onclick="downloadExport()">ğŸ’¾ Download</button>
            </div>
        </div>
    </div>
    
    <script>
        let lastScannedFiles = null;
        let projectRootName = '';
        let lastAnalysis = null;
        
        const PLATFORMS = [
            { name: 'Twitter/X', total: 21, h: 4, c: 3, l: 4, t: 4, m: 3, e: 3 },
            { name: 'Instagram', total: 18, h: 4, c: 0, l: 4, t: 4, m: 3, e: 3 },
            { name: 'TikTok', total: 21, h: 4, c: 3, l: 4, t: 4, m: 3, e: 3 },
            { name: 'Reddit', total: 14, h: 0, c: 0, l: 4, t: 4, m: 3, e: 3 },
            { name: 'Facebook', total: 18, h: 4, c: 0, l: 4, t: 4, m: 3, e: 3 },
            { name: 'YouTube', total: 14, h: 0, c: 0, l: 4, t: 4, m: 3, e: 3 },
            { name: 'LinkedIn', total: 17, h: 3, c: 0, l: 4, t: 4, m: 3, e: 3 }
        ];
        
        const REQUIRED_FILES = [
            { path: 'index.html', status: 'check', desc: 'Landing page' },
            { path: 'results.html', status: 'check', desc: 'Results display' },
            { path: 'css/styles.css', status: 'check', desc: 'Global styles' },
            { path: 'js/main.js', status: 'check', desc: 'Core application logic' },
            { path: 'js/demo-data.js', status: 'update', desc: 'REWRITE with 3-Point Intelligence' },
            { path: 'js/platforms.js', status: 'update', desc: 'UPDATE module counts' },
            { path: 'js/results.js', status: 'update', desc: 'ADD 3-Point display' },
            { path: 'js/agents/api-agent.js', status: 'create', desc: 'API Agent logic' },
            { path: 'js/agents/web-agent.js', status: 'create', desc: 'Web Analysis Agent' },
            { path: 'js/agents/historical-agent.js', status: 'create', desc: 'Historical Agent' },
            { path: 'js/agents/detection-agent.js', status: 'create', desc: 'Detection Agent' },
            { path: 'js/agents/predictive-agent.js', status: 'create', desc: 'Predictive AI Agent' },
            { path: 'js/utils/confidence.js', status: 'create', desc: 'Confidence calculation' },
            { path: 'js/utils/scoring.js', status: 'create', desc: 'Score aggregation' },
            { path: 'js/utils/database.js', status: 'create', desc: 'Signals database' },
            { path: 'data/banned-hashtags.json', status: 'create', desc: 'Banned hashtags DB' },
            { path: 'data/throttled-domains.json', status: 'create', desc: 'Throttled domains' },
            { path: 'data/automod-triggers.json', status: 'create', desc: 'AutoMod patterns' }
        ];
        
        // Render platform table
        document.getElementById('platformTable').innerHTML = PLATFORMS.map(p => `
            <tr style="border-bottom: 1px solid rgba(255,255,255,0.1);">
                <td style="padding: 10px;">${p.name}</td>
                <td style="text-align: center; color: var(--primary); font-weight: bold;">${p.total}</td>
                <td style="text-align: center; ${p.h === 0 ? 'color: var(--muted)' : ''}">${p.h || 'â€”'}</td>
                <td style="text-align: center; ${p.c === 0 ? 'color: var(--muted)' : ''}">${p.c || 'â€”'}</td>
                <td style="text-align: center;">${p.l}</td>
                <td style="text-align: center;">${p.t}</td>
                <td style="text-align: center;">${p.m}</td>
                <td style="text-align: center;">${p.e}</td>
            </tr>
        `).join('');
        
        const folderInput = document.getElementById('folderInput');
        const dropZone = document.getElementById('dropZone');
        
        folderInput.addEventListener('change', e => handleFiles(e.target.files));
        
        dropZone.addEventListener('dragover', e => {
            e.preventDefault();
            dropZone.style.borderColor = '#00d26a';
            dropZone.style.background = 'rgba(0,210,106,0.1)';
        });
        
        dropZone.addEventListener('dragleave', () => {
            dropZone.style.borderColor = '#ff6b35';
            dropZone.style.background = 'rgba(255,255,255,0.05)';
        });
        
        dropZone.addEventListener('drop', e => {
            e.preventDefault();
            dropZone.style.borderColor = '#ff6b35';
            dropZone.style.background = 'rgba(255,255,255,0.05)';
            handleFiles(e.dataTransfer.files);
        });
        
        function handleFiles(files) {
            lastScannedFiles = files;
            const fileList = Array.from(files);
            const filePaths = fileList.map(f => f.webkitRelativePath || f.name);
            
            projectRootName = filePaths[0]?.includes('/') ? filePaths[0].split('/')[0] : 'project';
            
            const tree = buildFileTree(filePaths);
            lastAnalysis = analyzeProject(filePaths);
            displayResults(tree, lastAnalysis, fileList.length);
        }
        
        function rescanProject() {
            if (lastScannedFiles) {
                handleFiles(lastScannedFiles);
            } else {
                folderInput.click();
            }
        }
        
        function buildFileTree(paths) {
            const tree = {};
            paths.forEach(path => {
                const parts = path.split('/');
                let current = tree;
                parts.forEach((part, i) => {
                    if (!current[part]) current[part] = i === parts.length - 1 ? null : {};
                    if (current[part] !== null) current = current[part];
                });
            });
            return tree;
        }
        
        function analyzeProject(paths) {
            const result = { missing: [], needsUpdate: [], exists: [] };
            
            // Normalize: remove root folder, get filenames
            const normalized = paths.map(p => p.split('/').slice(1).join('/'));
            const fileNames = paths.map(p => p.split('/').pop());
            
            REQUIRED_FILES.forEach(req => {
                const reqFile = req.path.split('/').pop();
                const reqDirs = req.path.split('/').slice(0, -1);
                
                // FIXED: Multiple matching strategies
                const found = normalized.some((p, i) => {
                    // Exact match
                    if (p === req.path) return true;
                    // Ends with full path
                    if (p.endsWith('/' + req.path)) return true;
                    // Filename + directory check
                    if (fileNames[i] === reqFile) {
                        if (reqDirs.length === 0) return true;
                        return reqDirs.every(d => p.includes('/' + d + '/') || p.startsWith(d + '/'));
                    }
                    return false;
                });
                
                if (found) {
                    if (req.status === 'update') {
                        result.needsUpdate.push({...req, actual: 'update'});
                    } else {
                        result.exists.push({...req, actual: 'exists'});
                    }
                } else {
                    result.missing.push({...req, actual: 'missing'});
                }
            });
            
            return result;
        }
        
        function displayResults(tree, analysis, total) {
            document.getElementById('defaultAnalysis').classList.remove('active');
            document.getElementById('analysisOutput').classList.add('active');
            
            document.getElementById('projectName').textContent = projectRootName;
            document.getElementById('scanTime').textContent = new Date().toLocaleTimeString();
            
            document.getElementById('foundFiles').textContent = analysis.exists.length + analysis.needsUpdate.length;
            document.getElementById('totalFiles').textContent = total;
            document.getElementById('missingFiles').textContent = analysis.missing.length;
            document.getElementById('updateFiles').textContent = analysis.needsUpdate.length;
            
            document.getElementById('fileTree').innerHTML = renderTree(tree, '');
            
            const all = [
                ...analysis.missing.map(f => ({...f, badge: 'missing', label: 'âŒ MISSING'})),
                ...analysis.needsUpdate.map(f => ({...f, badge: 'update', label: 'âš ï¸ UPDATE'})),
                ...analysis.exists.map(f => ({...f, badge: 'exists', label: 'âœ… EXISTS'}))
            ];
            
            document.getElementById('statusList').innerHTML = all.map(f => `
                <li><span>${f.path}</span><span class="status-badge ${f.badge}">${f.label}</span></li>
            `).join('');
            
            // Missing section
            if (analysis.missing.length) {
                document.getElementById('missingSection').style.display = 'block';
                document.getElementById('missingFilesList').innerHTML = `<ul class="status-list">
                    ${analysis.missing.map(f => `<li><div><strong>${f.path}</strong><br><small style="color:var(--muted)">${f.desc}</small></div><span class="status-badge missing">CREATE</span></li>`).join('')}
                </ul>`;
            } else {
                document.getElementById('missingSection').style.display = 'none';
            }
            
            // Update section
            if (analysis.needsUpdate.length) {
                document.getElementById('updateSection').style.display = 'block';
                document.getElementById('updateFilesList').innerHTML = `<ul class="status-list">
                    ${analysis.needsUpdate.map(f => `<li><div><strong>${f.path}</strong><br><small style="color:var(--muted)">${f.desc}</small></div><span class="status-badge update">UPDATE</span></li>`).join('')}
                </ul>`;
            } else {
                document.getElementById('updateSection').style.display = 'none';
            }
        }
        
        function renderTree(tree, prefix) {
            let html = '';
            const entries = Object.entries(tree);
            entries.forEach(([name, children], i) => {
                const isLast = i === entries.length - 1;
                const conn = isLast ? 'â””â”€â”€ ' : 'â”œâ”€â”€ ';
                const isFolder = children !== null && typeof children === 'object';
                const ext = name.split('.').pop().toLowerCase();
                const cls = isFolder ? 'folder' : ['js','html','css','json'].includes(ext) ? `file ${ext}` : 'file';
                html += `<span class="${cls}">${prefix}${conn}${name}</span>\n`;
                if (isFolder && Object.keys(children).length) {
                    html += renderTree(children, prefix + (isLast ? '    ' : 'â”‚   '));
                }
            });
            return html;
        }
        
        function showExportModal() {
            const ta = document.getElementById('exportTextarea');
            let c = `# ShadowBanCheck.io - Files for Master Engine Update\n`;
            c += `# ${new Date().toLocaleString()} | Project: ${projectRootName || 'N/A'}\n\n`;
            
            if (lastAnalysis) {
                c += `## ğŸ”´ CREATE (${lastAnalysis.missing.length}):\n`;
                lastAnalysis.missing.forEach(f => c += `- ${f.path} â†’ ${f.desc}\n`);
                c += `\n## ğŸŸ¡ UPDATE (${lastAnalysis.needsUpdate.length}):\n`;
                lastAnalysis.needsUpdate.forEach(f => c += `- ${f.path} â†’ ${f.desc}\n`);
                c += `\n## âœ… EXISTS (${lastAnalysis.exists.length}):\n`;
                lastAnalysis.exists.forEach(f => c += `- ${f.path}\n`);
            } else {
                c += `## ALL REQUIRED:\n`;
                REQUIRED_FILES.forEach(f => c += `${f.status==='create'?'ğŸ”´':f.status==='update'?'ğŸŸ¡':'âœ…'} ${f.path} â†’ ${f.desc}\n`);
            }
            
            c += `\n## ğŸ“Š PLATFORM MODULES:\n`;
            PLATFORMS.forEach(p => c += `${p.name}: ${p.total} (H:${p.h} C:${p.c} L:${p.l} T:${p.t} M:${p.m} E:${p.e})\n`);
            
            ta.value = c;
            document.getElementById('exportModal').classList.add('active');
        }
        
        function closeExportModal() {
            document.getElementById('exportModal').classList.remove('active');
        }
        
        function copyToClipboard(btn) {
            const ta = document.getElementById('exportTextarea');
            ta.select();
            document.execCommand('copy');
            btn.textContent = 'âœ… Copied!';
            setTimeout(() => btn.textContent = 'ğŸ“‹ Copy', 2000);
        }
        
        function downloadExport() {
            const c = document.getElementById('exportTextarea').value;
            const a = document.createElement('a');
            a.href = URL.createObjectURL(new Blob([c], {type: 'text/plain'}));
            a.download = `shadowbancheck-files-${new Date().toISOString().split('T')[0]}.txt`;
            a.click();
        }
        
        document.getElementById('exportModal').addEventListener('click', e => {
            if (e.target.id === 'exportModal') closeExportModal();
        });
    </script>
</body>
</html>
